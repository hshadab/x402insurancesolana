# x402 Insurance - Solana Configuration Example
# Copy this file to .env and update with your values

# Application
APP_NAME="x402 Insurance API"
ENV=development
DEBUG=true
LOG_LEVEL=INFO
PORT=8000
HOST=0.0.0.0

# Database (optional - uses JSON files if not set)
# DATABASE_TYPE=postgresql
# DATABASE_URL=postgresql://user:password@localhost:5432/x402insurance

# Blockchain - Solana Configuration
BLOCKCHAIN_NETWORK=solana
SOLANA_CLUSTER=devnet  # or mainnet-beta for production
SOLANA_RPC_URL=https://api.devnet.solana.com  # or https://api.mainnet-beta.solana.com

# USDC Token Mint Address
# Devnet: 4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
# Mainnet: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
USDC_MINT_ADDRESS=4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU

# Backend Wallet (Solana)
# Generate keypair: solana-keygen new --outfile ./solana-wallet.json
# Get pubkey: solana address -k ./solana-wallet.json
WALLET_KEYPAIR_PATH=./solana-wallet.json  # Relative path recommended
BACKEND_WALLET_PUBKEY=YourSolanaPublicKeyHere

# Blockchain limits
MAX_RETRIES=3

# zkEngine
ZKENGINE_BINARY_PATH=./zkengine/fraud_detector

# Insurance (percentage-based)
PREMIUM_PERCENTAGE=0.01
MAX_COVERAGE_USDC=0.1
POLICY_DURATION_HOURS=24

# Rate limiting
RATE_LIMIT_ENABLED=true
# RATE_LIMIT_STORAGE_URL=redis://localhost:6379  # Optional Redis for distributed rate limiting

# Payment verification
# "simple" = Skip signature verification (development only)
# "full" = Full ed25519 signature verification (production)
PAYMENT_VERIFICATION_MODE=simple
PAYMENT_MAX_AGE_SECONDS=300

# Reserve monitoring
MIN_RESERVE_RATIO=1.5

# Security
CORS_ORIGINS=*

# Anchor Program (optional - for on-chain proof attestation)
# ATTESTATION_PROGRAM_ID=Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS
